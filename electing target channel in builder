[1mdiff --git a/bot.js b/bot.js[m
[1mindex a40f352..a4910ca 100644[m
[1m--- a/bot.js[m
[1m+++ b/bot.js[m
[36m@@ -228,6 +228,151 @@[m [masync function buildSeasonSummaryForUser(userId, username, limitSeasons) {[m
 }[m
 [m
 [m
[32m+[m[32m// ===== æˆç¸¾é€šçŸ¥è¡¨: ãƒªãƒ³ã‚¯ã‚³ãƒ³ãƒ†ã‚¹ãƒˆ ã‚·ãƒ¼ã‚ºãƒ³åˆ¥ã‚µãƒãƒªãƒ¼å…±é€šå‡¦ç† =====[m
[32m+[m[32masync function buildLinkContestSeasonSummaryForUser(userId, username, limitSeasons) {[m
[32m+[m[32m  let allRecords = [];[m
[32m+[m[32m  try {[m
[32m+[m[32m    // getAllLinkContestRecords ãŒ season çœç•¥æ™‚ã«å…¨ä»¶è¿”ã™å‰æ[m
[32m+[m[32m    allRecords = await getAllLinkContestRecords();[m
[32m+[m[32m  } catch (e) {[m
[32m+[m[32m    console.error('buildLinkContestSeasonSummaryForUser error:', e);[m
[32m+[m[32m    return null;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  if (!allRecords || !allRecords.length) {[m
[32m+[m[32m    return null;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // season -> Map<userId, { timestamp, rank, grow, username }>[m
[32m+[m[32m  const seasonUserMap = new Map();[m
[32m+[m
[32m+[m[32m  for (const r of allRecords) {[m
[32m+[m[32m    const seasonKey = r.season || 'UNKNOWN';[m
[32m+[m
[32m+[m[32m    if (!seasonUserMap.has(seasonKey)) {[m
[32m+[m[32m      seasonUserMap.set(seasonKey, new Map());[m
[32m+[m[32m    }[m
[32m+[m[32m    const userMap = seasonUserMap.get(seasonKey);[m
[32m+[m
[32m+[m[32m    const prev = userMap.get(r.userId);[m
[32m+[m[32m    // åŒã˜ã‚·ãƒ¼ã‚ºãƒ³ãƒ»åŒã˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã¯ã€Œä¸€ç•ªæ–°ã—ã„è¨˜éŒ²ã€ã‚’æ¡ç”¨[m
[32m+[m[32m    if (!prev || r.timestamp > prev.timestamp) {[m
[32m+[m[32m      userMap.set(r.userId, {[m
[32m+[m[32m        timestamp: r.timestamp,[m
[32m+[m[32m        rank: r.rank,[m
[32m+[m[32m        grow: r.grow,[m
[32m+[m[32m        username: r.username,[m
[32m+[m[32m      });[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // ã‚·ãƒ¼ã‚ºãƒ³ã‚’ç•ªå·é †ã«ã‚½ãƒ¼ãƒˆï¼ˆ"S35" ãªã©ã‚’æƒ³å®šï¼‰[m
[32m+[m[32m  const sortSeasonKeys = (keys) => {[m
[32m+[m[32m    return [...keys].sort((a, b) => {[m
[32m+[m[32m      const na = parseInt(String(a).replace(/^\D+/, ''), 10);[m
[32m+[m[32m      const nb = parseInt(String(b).replace(/^\D+/, ''), 10);[m
[32m+[m
[32m+[m[32m      if (Number.isNaN(na) || Number.isNaN(nb)) {[m
[32m+[m[32m        return String(a).localeCompare(String(b));[m
[32m+[m[32m      }[m
[32m+[m[32m      return na - nb;[m
[32m+[m[32m    });[m
[32m+[m[32m  };[m
[32m+[m
[32m+[m[32m  const allSeasonKeysSorted = sortSeasonKeys(seasonUserMap.keys());[m
[32m+[m
[32m+[m[32m  // ã“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¨˜éŒ²ã‚’æŒã£ã¦ã„ã‚‹ã‚·ãƒ¼ã‚ºãƒ³ã ã‘ã‚’æŠ½å‡º[m
[32m+[m[32m  const userSeasonKeys = allSeasonKeysSorted.filter([m
[32m+[m[32m    (s) => seasonUserMap.get(s).has(userId),[m
[32m+[m[32m  );[m
[32m+[m
[32m+[m[32m  if (!userSeasonKeys.length) {[m
[32m+[m[32m    return null;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // ç›´è¿‘ limitSeasons ä»¶ã ã‘[m
[32m+[m[32m  const targetSeasonKeys = limitSeasons[m
[32m+[m[32m    ? userSeasonKeys.slice(-limitSeasons)[m
[32m+[m[32m    : userSeasonKeys;[m
[32m+[m
[32m+[m[32m  // ã‚·ãƒ¼ã‚ºãƒ³ã”ã¨ã®ã€Œã‚µãƒ¼ã‚¯ãƒ«å¹³å‡ ä»Šå­£è‚²æˆæ•°ã€ã‚’è¨ˆç®—[m
[32m+[m[32m  const prevGrowByUser = new Map();[m
[32m+[m[32m  const circleAvgGrowBySeason = new Map();[m
[32m+[m
[32m+[m[32m  for (const s of allSeasonKeysSorted) {[m
[32m+[m[32m    const usersInSeason = seasonUserMap.get(s);[m
[32m+[m[32m    const diffs = [];[m
[32m+[m
[32m+[m[32m    for (const [uId, rec] of usersInSeason.entries()) {[m
[32m+[m[32m      const prevGrow = prevGrowByUser.get(uId);[m
[32m+[m[32m      const growDiff =[m
[32m+[m[32m        prevGrow == null ? rec.grow : rec.grow - prevGrow;[m
[32m+[m
[32m+[m[32m      diffs.push(growDiff);[m
[32m+[m[32m      prevGrowByUser.set(uId, rec.grow);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    const avgGrow =[m
[32m+[m[32m      diffs.length > 0[m
[32m+[m[32m        ? diffs.reduce((a, b) => a + b, 0) / diffs.length[m
[32m+[m[32m        : 0;[m
[32m+[m
[32m+[m[32m    circleAvgGrowBySeason.set(s, avgGrow);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚·ãƒ¼ã‚ºãƒ³ã”ã¨ã‚µãƒãƒªãƒ¼ã‚’ä½œæˆ[m
[32m+[m[32m  const lines = [];[m
[32m+[m[32m  let prevRankUser = null;[m
[32m+[m[32m  let prevGrowUser = null;[m
[32m+[m
[32m+[m[32m  for (const s of targetSeasonKeys) {[m
[32m+[m[32m    const rec = seasonUserMap.get(s).get(userId);[m
[32m+[m[32m    if (!rec) continue;[m
[32m+[m
[32m+[m[32m    const lastRank = rec.rank;[m
[32m+[m[32m    const lastGrow = rec.grow;[m
[32m+[m
[32m+[m[32m    const seasonGrow =[m
[32m+[m[32m      prevGrowUser == null ? lastGrow : lastGrow - prevGrowUser;[m
[32m+[m[32m    const seasonRankDiff =[m
[32m+[m[32m      prevRankUser == null ? 0 : lastRank - prevRankUser;[m
[32m+[m
[32m+[m[32m    const avgGrow = circleAvgGrowBySeason.get(s) ?? 0;[m
[32m+[m[32m    const diffFromAvg = seasonGrow - avgGrow;[m
[32m+[m
[32m+[m[32m    const mark =[m
[32m+[m[32m      diffFromAvg > 0 ? 'ğŸŸ¢' :[m
[32m+[m[32m      diffFromAvg < 0 ? 'ğŸ”»' :[m
[32m+[m[32m      'â–';[m
[32m+[m
[32m+[m[32m    const rankDiffText =[m
[32m+[m[32m      prevRankUser == null[m
[32m+[m[32m        ? 'ï¼ˆåˆæœŸå€¤ï¼‰'[m
[32m+[m[32m        : `ï¼ˆå‰ã‚·ãƒ¼ã‚ºãƒ³æ¯” ${seasonRankDiff >= 0 ? '+' : ''}${seasonRankDiff}ï¼‰`;[m
[32m+[m
[32m+[m[32m    lines.push([m
[32m+[m[32m      `**${s}**\n` +[m
[32m+[m[32m      `æœ€çµ‚é †ä½: ${lastRank}ä½ ${rankDiffText}\n` +[m
[32m+[m[32m      `æœ€çµ‚è‚²æˆæ•°: ${lastGrow}ï¼ˆä»Šå­£ +${seasonGrow}ï¼‰\n` +[m
[32m+[m[32m      `ã€€â”— ä»Šå­£è‚²æˆæ•°: +${seasonGrow}ï¼ˆã‚µãƒ¼ã‚¯ãƒ«å¹³å‡ +${avgGrow.toFixed(1)}ï¼‰${mark}`,[m
[32m+[m[32m    );[m
[32m+[m
[32m+[m[32m    prevRankUser = lastRank;[m
[32m+[m[32m    prevGrowUser = lastGrow;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  if (!lines.length) {[m
[32m+[m[32m    return null;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  return {[m
[32m+[m[32m    title: `ğŸ“˜ ãƒªãƒ³ã‚¯ã‚³ãƒ³ãƒ†ã‚¹ãƒˆ ã‚·ãƒ¼ã‚ºãƒ³åˆ¥ã¾ã¨ã‚ - ${username}`,[m
[32m+[m[32m    description:[m
[32m+[m[32m      'å„ã‚·ãƒ¼ã‚ºãƒ³ã®æœ€çµ‚é †ä½ã¨ã€Œä»Šå­£è‚²æˆæ•°ï¼ˆå‰ã‚·ãƒ¼ã‚ºãƒ³æœ«ã‹ã‚‰ã®å¢—åŠ ï¼‰ã€ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚',[m
[32m+[m[32m    lines,[m
[32m+[m[32m  };[m
[32m+[m[32m}[m
[32m+[m
 // â€» cleanupOldVcLogs ã¯ src/features/vc/vcMonitor ã«ç§»å‹•[m
 [m
 if (!TOKEN || !CHANNEL_ID) {[m
[36m@@ -485,6 +630,7 @@[m [mregisterInteractionCreate(client, {[m
   getMonthlyRecordsByUser,[m
   runMonthlyDmReminder,[m
   buildSeasonSummaryForUser,[m
[32m+[m[32m  buildLinkContestSeasonSummaryForUser,[m
 });[m
 [m
 [m
[1mdiff --git a/scripts/deployMotiCommands.js b/scripts/deployMotiCommands.js[m
[1mindex d73968f..34f521f 100644[m
[1m--- a/scripts/deployMotiCommands.js[m
[1m+++ b/scripts/deployMotiCommands.js[m
[36m@@ -129,6 +129,14 @@[m [mconst commands = [[m
     .setName('moti_summary_all')[m
     .setDescription('å…¨ã‚·ãƒ¼ã‚ºãƒ³åˆ†ã®ã‚·ãƒ¼ã‚ºãƒ³åˆ¥æˆç¸¾ã¾ã¨ã‚ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚'),[m
 [m
[32m+[m[32m  new SlashCommandBuilder()[m
[32m+[m[32m    .setName('moti_summary_link')[m
[32m+[m[32m    .setDescription('ãƒªãƒ³ã‚¯ã‚³ãƒ³ãƒ†ã‚¹ãƒˆã®ç›´è¿‘ã®ã‚·ãƒ¼ã‚ºãƒ³åˆ¥ã‚µãƒãƒªãƒ¼ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚'),[m
[32m+[m
[32m+[m[32m  new SlashCommandBuilder()[m
[32m+[m[32m    .setName('moti_summary_link_all')[m
[32m+[m[32m    .setDescription('ãƒªãƒ³ã‚¯ã‚³ãƒ³ãƒ†ã‚¹ãƒˆã®å…¨ã‚·ãƒ¼ã‚ºãƒ³åˆ†ã®ã‚·ãƒ¼ã‚ºãƒ³åˆ¥æˆç¸¾ã¾ã¨ã‚ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚'),[m
[32m+[m
   new SlashCommandBuilder()[m
     .setName('moti_report')[m
     .setDescription('æŒ‡å®šã‚·ãƒ¼ã‚ºãƒ³ã®æˆç¸¾æ¨ç§»ãƒ¬ãƒãƒ¼ãƒˆã‚’è¡¨ç¤ºã—ã¾ã™ï¼ˆé‹å–¶å°‚ç”¨ï¼‰ã€‚')[m
[36m@@ -140,7 +148,19 @@[m [mconst commands = [[m
     .setDefaultMemberPermissions(PermissionF